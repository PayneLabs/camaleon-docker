var I18n=function(key,default_val,data){var res="";try{res=eval("I18n_data."+key)}catch(e){}res||(res=default_val?default_val:(""+key.split(".").pop()).titleize()),data=data||{};for(key in data)res=res.replace("%{"+key+"}",data[key]);return res};String.prototype.titleize=function(){for(var e=this.replace(/_/g," ").split(" "),t=[],a=0;a<e.length;++a)t.push(e[a].charAt(0).toUpperCase()+e[a].toLowerCase().slice(1));return t.join(" ")};